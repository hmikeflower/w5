<html>
    <head>
        <title>圖層練習</title>
        <script src="AllFunction.js" type='text/javascript'></script>
    </head>
    <body>
        <button onclick="location='http://hmikeflower.github.io/w5/yoyo/index.html'">回首頁</button><br>
        <button onclick="change()">change</button>
        <button onclick="car()">car</button>
        <button onclick="test()">test</button>
        <button onclick="Switch_bar()">bar</button>
        <style type="text/css">
        #background{
            position:absolute;
            top:0px;
            left:0px;
            z-index:0;
        }
        #CAR1{
            position:absolute;
            top:18px;
            left:205px;
            z-index:0;
        }
        #CAR2{
            position:absolute;
            top:70px;
            left:205px;
            z-index:0;
        }
        #CAR3{
            position:absolute;
            top:122px;
            left:205px;
            z-index:0;
        }
        #CAR4{
            position:absolute;
            top:174px;
            left:205px;
            z-index:0;
        }
        #CAR5{
            position:absolute;
            top:226px;
            left:205px;
            z-index:0;
        }
        #CAR6{
            position:absolute;
            top:278px;
            left:205px;
            z-index:0;
        }
        #P-1{
            position:absolute;
            top:25px;
            left:549px;
            z-index:0;
        }
        #P-2{
            position:absolute;
            top:25px;
            left:687px;
            z-index:0;
        }
        #P-3{
            position:absolute;
            top:25px;
            left:828px;
            z-index:0;
        }
        #P-4{
            position:absolute;
            top:25px;
            left:968px;
            z-index:0;
        }
        #P-5{
            position:absolute;
            top:248px;
            left:549px;
            z-index:0;
        }
        #P-6{
            position:absolute;
            top:248px;
            left:687px;
            z-index:0;
        }
        #P-7{
            position:absolute;
            top:248px;
            left:828px;
            z-index:0;
        }
        #P-8{
            position:absolute;
            top:248px;
            left:968px;
            z-index:0;
        }
        #P-9{
            position:absolute;
            top:485px;
            left:549px;
            z-index:0;
        }
        #P-10{
            position:absolute;
            top:485px;
            left:687px;
            z-index:0;
        }
        #P-11{
            position:absolute;
            top:485px;
            left:828px;
            z-index:0;
        }
        #P-12{
            position:absolute;
            top:485px;
            left:968px;
            z-index:0;
        }
        #BAR-1{
            position:absolute;
            top:25px;
            left:638px;
            z-index:0;
        }
        #BAR-2{
            position:absolute;
            top:25px;
            left:917px;
            z-index:0;
        }
        #BAR-3{
            position:absolute;
            top:246px;
            left:486px;
            z-index:0;
        }
        #BAR-4{
            position:absolute;
            top:246px;
            left:778px;
            z-index:0;
        }
        #BAR-5{
            position:absolute;
            top:420px;
            left:638px;
            z-index:0;
        }
        #BAR-6{
            position:absolute;
            top:420px;
            left:1070px;
            z-index:0;
        }
        #CAR-B{
            position:absolute;
            top:25px;
            left:968px;
            z-index:0;
        }
        #CAR-G{
            position:absolute;
            top:248px;
            left:828px;
            z-index:0;
        }
        #CAR-R{
            position:absolute;
            top:248px;
            left:549px;
            z-index:0;
        }
        </style>
        <div style="position:relative;">
            <img src="background.jpg" id="background">
            <img src="CAR_B.png" id="CAR1">
            <img src="CAR_B.png" id="CAR2">
            <img src="CAR_G.png" id="CAR3">
            <img src="CAR_G.png" id="CAR4">
            <img src="CAR_R.png" id="CAR5">
            <img src="CAR_R.png" id="CAR6">
            <img id="P-1">
            <img id="P-2">
            <img id="P-3">
            <img id="P-4">
            <img id="P-5">
            <img id="P-6">
            <img id="P-7">
            <img id="P-8">
            <img id="P-9">
            <img id="P-10">
            <img id="P-11">
            <img id="P-12">
            <img id="BAR-1">
            <img id="BAR-2">
            <img id="BAR-3">
            <img id="BAR-4">
            <img id="BAR-5">
            <img id="BAR-6">
        </div>
        <script>
            function change(){
                car()
                test()
                Switch_bar()
            }


            function reset_bar(){
                for(var i=1;i<7;i++){
                    x="BAR-"+i;
                    document.getElementById(x).src=""
                }
            }


            function reset_p(){
                for(var i=1;i<13;i++){
                    x="P-"+i;
                    document.getElementById(x).src=""
                }
            }


            function car(){
                var arraynum=[],randomnum=6,CarArr=["CAR_B.png","CAR_G.png","CAR_R.png","CAR_B.png","CAR_G.png","CAR_R.png"],y=1
                for(var i=0;i<randomnum;i++){
                    arraynum[i]=Math.floor(Math.random()*randomnum)
                    if(i>0){
                        for(var j=0;j<i;j++){
                            if(arraynum[j]==arraynum[i]){
                            i--
                            break
                            }
                        }
                    }
                }
                console.log(arraynum)
                for(var k=0;k<arraynum.length;k++){
                    x="CAR"+y
                    y++
                    document.getElementById(x).src=CarArr[arraynum[k]];
                }   
            }


            function bar(a){
                var bar=Math.floor(Math.random()*2),x,y,i=a+1
                if(bar==0){
                    x="BAR-"+a
                    y="BAR-"+i
                    document.getElementById(x).src="BAR.png"
                    document.getElementById(y).src=""
                }
                if(bar==1){
                    x="BAR-"+i
                    y="BAR-"+a
                    document.getElementById(x).src="BAR.png"
                    document.getElementById(y).src=""
                }
            }


            function Switch_bar(){
                reset_bar()
                var s=Math.floor(Math.random()*3)
                switch(s){
                    case 0:
                        bar(1)
                        bar(3)
                    break;
                    case 1:
                        bar(1)
                        bar(5)
                    break;
                    case 2:
                        bar(3)
                        bar(5)
                    break;
                }
            }

            
            function test(){
                reset_p()
                var a=Math.floor(Math.random()*12),b,c=0
                var ParkArr=[["R","P-1",0,0],["R","P-2",0,0],["G","P-3",0,0],["B","P-4",0,0],
                            ["G","P-5",0,1],["R","P-6",0,1],["G","P-7",0,1],["B","P-8",0,1],
                            ["B","P-9",0,2],["B","P-10",0,2],["R","P-11",0,2],["G","P-12",0,2]]
                document.getElementById(ParkArr[a][1]).src="1.png"
                ParkArr[a][2]=1
                while(c==0){
                    b=Math.floor(Math.random()*12)
                    if(ParkArr[a][3]!=ParkArr[b][3]){
                        if(ParkArr[a][0]!=ParkArr[b][0]){
                            document.getElementById(ParkArr[b][1]).src="1.png"
                            ParkArr[b][2]=1
                            c=1
                        }
                    }
                }
                c=0
                while(c==0){
                    b=Math.floor(Math.random()*12)
                    if(ParkArr[b][2]==0){
                        if(ParkArr[b][0]!="R"){
                            document.getElementById(ParkArr[b][1]).src="4.png"
                            ParkArr[b][2]=1
                            c=1
                        }
                    }
                }
                c=0
                while(c==0){
                    b=Math.floor(Math.random()*12)
                    if(ParkArr[b][2]==0){
                        if(ParkArr[b][0]=="B"){
                            document.getElementById(ParkArr[b][1]).src="3.png"
                            ParkArr[b][2]=1
                            c=1
                        }
                    }
                }
                c=0
                while(c==0){
                    b=Math.floor(Math.random()*12)
                    if(ParkArr[b][2]==0){
                        if(ParkArr[b][0]=="G"){
                            document.getElementById(ParkArr[b][1]).src="2.png"
                            ParkArr[b][2]=1
                            c=1
                        }
                    }
                }
            }
        </script>
    </body>
</html>