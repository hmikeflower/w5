<html>
    <head>
        <title>圖層練習</title>
        <script src="AllFunction.js" type='text/javascript'></script>
    </head>
    <body>
        <button onclick="location='http://hmikeflower.github.io/w5/yoyo/index.html'">回首頁</button><br>
        <button onclick="change()">change</button>
        <button onclick="test()">test</button>
        <button onclick="Switch_bar()">bar</button>
        <button onclick="Switch_p()">p</button>
        <style type="text/css">
        #background{
            position:absolute;
            top:0px;
            left:0px;
            z-index:0;
        }
        #CAR1{
            position:absolute;
            top:18px;
            left:205px;
            z-index:0;
        }
        #CAR2{
            position:absolute;
            top:70px;
            left:205px;
            z-index:0;
        }
        #CAR3{
            position:absolute;
            top:122px;
            left:205px;
            z-index:0;
        }
        #CAR4{
            position:absolute;
            top:174px;
            left:205px;
            z-index:0;
        }
        #CAR5{
            position:absolute;
            top:226px;
            left:205px;
            z-index:0;
        }
        #CAR6{
            position:absolute;
            top:278px;
            left:205px;
            z-index:0;
        }
        #P-1{
            position:absolute;
            top:25px;
            left:549px;
            z-index:0;
        }
        #P-2{
            position:absolute;
            top:25px;
            left:687px;
            z-index:0;
        }
        #P-3{
            position:absolute;
            top:25px;
            left:828px;
            z-index:0;
        }
        #P-4{
            position:absolute;
            top:25px;
            left:968px;
            z-index:0;
        }
        #P-5{
            position:absolute;
            top:248px;
            left:549px;
            z-index:0;
        }
        #P-6{
            position:absolute;
            top:248px;
            left:687px;
            z-index:0;
        }
        #P-7{
            position:absolute;
            top:248px;
            left:828px;
            z-index:0;
        }
        #P-8{
            position:absolute;
            top:248px;
            left:968px;
            z-index:0;
        }
        #P-9{
            position:absolute;
            top:485px;
            left:549px;
            z-index:0;
        }
        #P-10{
            position:absolute;
            top:485px;
            left:687px;
            z-index:0;
        }
        #P-11{
            position:absolute;
            top:485px;
            left:828px;
            z-index:0;
        }
        #P-12{
            position:absolute;
            top:485px;
            left:968px;
            z-index:0;
        }
        #BAR-1{
            position:absolute;
            top:25px;
            left:638px;
            z-index:0;
        }
        #BAR-2{
            position:absolute;
            top:25px;
            left:917px;
            z-index:0;
        }
        #BAR-3{
            position:absolute;
            top:246px;
            left:486px;
            z-index:0;
        }
        #BAR-4{
            position:absolute;
            top:246px;
            left:778px;
            z-index:0;
        }
        #BAR-5{
            position:absolute;
            top:420px;
            left:638px;
            z-index:0;
        }
        #BAR-6{
            position:absolute;
            top:420px;
            left:1070px;
            z-index:0;
        }
        #CAR-B{
            position:absolute;
            top:25px;
            left:968px;
            z-index:0;
        }
        #CAR-G{
            position:absolute;
            top:248px;
            left:828px;
            z-index:0;
        }
        #CAR-R{
            position:absolute;
            top:248px;
            left:549px;
            z-index:0;
        }
        </style>
        <div style="position:relative;">
            <img src="background.jpg" id="background">
            <img src="CAR_B.png" id="CAR1">
            <img src="CAR_B.png" id="CAR2">
            <img src="CAR_G.png" id="CAR3">
            <img src="CAR_G.png" id="CAR4">
            <img src="CAR_R.png" id="CAR5">
            <img src="CAR_R.png" id="CAR6">
            <img id="P-1">
            <img id="P-2">
            <img id="P-3">
            <img id="P-4">
            <img id="P-5">
            <img id="P-6">
            <img id="P-7">
            <img id="P-8">
            <img id="P-9">
            <img id="P-10">
            <img id="P-11">
            <img id="P-12">
            <img id="BAR-1">
            <img id="BAR-2">
            <img id="BAR-3">
            <img id="BAR-4">
            <img id="BAR-5">
            <img id="BAR-6">
        </div>
        <script>
            function reset_bar(){
                for(var i=1;i<7;i++){
                    x="BAR-"+i;
                    document.getElementById(x).src=""
                }
            }
            function reset_p(){
                for(var i=1;i<13;i++){
                    x="P-"+i;
                    document.getElementById(x).src=""
                }
            }
            function test(){
                var arraynum=[],randomnum=6,CarArr=["CAR_B.png","CAR_G.png","CAR_R.png","CAR_B.png","CAR_G.png","CAR_R.png"],y=1
                for(var i=0;i<randomnum;i++){
                    arraynum[i]=Math.floor(Math.random()*randomnum)
                    if(i>0){
                        for(var j=0;j<i;j++){
                            if(arraynum[j]==arraynum[i]){
                            i--
                            break
                            }
                        }
                    }
                }
                console.log(arraynum)
                for(var k=0;k<arraynum.length;k++){
                    x="CAR"+y
                    y++
                    document.getElementById(x).src=CarArr[arraynum[k]];
                }   
            }
            function bar(a){
                var bar=Math.floor(Math.random()*2),x,y,i=a+1
                if(bar==0){
                    x="BAR-"+a
                    y="BAR-"+i
                    document.getElementById(x).src="BAR.png"
                    document.getElementById(y).src=""
                }
                if(bar==1){
                    x="BAR-"+i
                    y="BAR-"+a
                    document.getElementById(x).src="BAR.png"
                    document.getElementById(y).src=""
                }
            }
            function Switch_bar(){
                reset_bar()
                var s=Math.floor(Math.random()*3)
                switch(s){
                    case 0:
                        bar(1)
                        bar(3)
                    break;
                    case 1:
                        bar(1)
                        bar(5)
                    break;
                    case 2:
                        bar(3)
                        bar(5)
                    break;
                }
            }
            function p(a,b){
                var p1=document.getElementById("P-1").src,p2=document.getElementById("P-2").src,p3=document.getElementById("P-3").src,p4=document.getElementById("P-4").src,p5=document.getElementById("P-5").src,p6=document.getElementById("P-6").src,p7=document.getElementById("P-7").src,p8=document.getElementById("P-8").src,p9=document.getElementById("P-9").src,p10=document.getElementById("P-10").src,p11=document.getElementById("P-11").src,p12=document.getElementById("P-12").src
                var p=Math.floor(Math.random()*4),i=a+1,j=a+2,k=a+3
                p=0
                for(var m=0;m<1;m++){
                    if(p==0){
                        if(b==0){
                            x="P-"+a
                            y="P-"+i
                            z="P-"+j
                            q="P-"+k
                            document.getElementById(x).src="1.png"
                            document.getElementById(y).src=""
                            document.getElementById(z).src=""
                            document.getElementById(q).src=""
                        }
                        if(b==1){
                            if(a==1){
                                if(p6==""&&p11==""){
                                    x="P-"+a
                                    y="P-"+i
                                    z="P-"+j
                                    q="P-"+k
                                    document.getElementById(x).src="1.png"
                                    document.getElementById(y).src=""
                                    document.getElementById(z).src=""
                                    document.getElementById(q).src=""
                                }
                                else{
                                    m--
                                    p=Math.floor(Math.random()*4)
                                }
                            }
                            if(a==5){
                                if(p3==""&&p12==""){
                                    x="P-"+a
                                    y="P-"+i
                                    z="P-"+j
                                    q="P-"+k
                                    document.getElementById(x).src="1.png"
                                    document.getElementById(y).src=""
                                    document.getElementById(z).src=""
                                    document.getElementById(q).src=""
                                }
                                else{
                                    m--
                                    p=Math.floor(Math.random()*4)
                                }
                            }
                            if(a==9){
                                if(p4==""&&p8==""){
                                    x="P-"+a
                                    y="P-"+i
                                    z="P-"+j
                                    q="P-"+k
                                    document.getElementById(x).src="1.png"
                                    document.getElementById(y).src=""
                                    document.getElementById(z).src=""
                                    document.getElementById(q).src=""
                                }
                                else{
                                    m--
                                    p=Math.floor(Math.random()*4)
                                }
                            }
                        }
                    console.log(m)
                    }
                    if(p==1){
                        if(b==0){
                            x="P-"+i
                            y="P-"+a
                            z="P-"+j
                            q="P-"+k
                            document.getElementById(x).src="1.png"
                            document.getElementById(y).src=""
                            document.getElementById(z).src=""
                            document.getElementById(q).src=""
                        }
                        if(b==1){
                            for(var m=0;m<1;m++){
                                if(a==1){
                                    if(p6==""&&p11==""){
                                        x="P-"+i
                                        y="P-"+a
                                        z="P-"+j
                                        q="P-"+k
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                                if(a==5){
                                    if(p1==""&&p2==""&&p11==""){
                                        x="P-"+i
                                        y="P-"+a
                                        z="P-"+j
                                        q="P-"+k
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                                if(a==9){
                                    if(p4==""&&p8==""){
                                        x="P-"+i
                                        y="P-"+a
                                        z="P-"+j
                                        q="P-"+k
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                            }
                        }
                    }
                    if(p==2){
                        if(b==0){
                            x="P-"+j
                            y="P-"+a
                            z="P-"+i
                            q="P-"+k
                            document.getElementById(x).src="1.png"
                            document.getElementById(y).src=""
                            document.getElementById(z).src=""
                            document.getElementById(q).src=""
                        }
                        if(b==1){
                            for(var m=0;m<1;m++){
                                if(a==1){
                                    if(p5==""&&p7==""&&p12==""){
                                        x="P-"+j
                                        y="P-"+a
                                        z="P-"+i
                                        q="P-"+k
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                                if(a==5){
                                    if(p3==""&&p12==""){
                                        x="P-"+j
                                        y="P-"+a
                                        z="P-"+i
                                        q="P-"+k
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                                if(a==9){
                                    if(p1==""&&p2==""&&p6==""){
                                        x="P-"+j
                                        y="P-"+a
                                        z="P-"+i
                                        q="P-"+k
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                            }
                        }
                    }
                    if(p==3){
                        if(b==0){
                            x="P-"+k
                            y="P-"+a
                            z="P-"+i
                            q="P-"+j
                            document.getElementById(x).src="1.png"
                            document.getElementById(y).src=""
                            document.getElementById(z).src=""
                            document.getElementById(q).src=""
                        }
                        if(b==1){
                            for(var m=0;m<1;m++){
                                if(a==1){
                                    if(p8==""&&p9==""&&p10==""){
                                        x="P-"+k
                                        y="P-"+a
                                        z="P-"+i
                                        q="P-"+j
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                                if(a==5){
                                    if(p4==""&&p9==""&&p10==""){
                                        x="P-"+k
                                        y="P-"+a
                                        z="P-"+i
                                        q="P-"+j
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                                if(a==9){
                                    if(p3==""&&p5==""&&p7==""){
                                        x="P-"+k
                                        y="P-"+a
                                        z="P-"+i
                                        q="P-"+j
                                        document.getElementById(x).src="1.png"
                                        document.getElementById(y).src=""
                                        document.getElementById(z).src=""
                                        document.getElementById(q).src=""
                                    }
                                    else{
                                        m--
                                        p=Math.floor(Math.random()*4)
                                    }
                                }
                            }
                        }
                    }
                }
            }
            function Switch_p(){
                console.log("1")
                reset_p()
                console.log("2")
                p(5,1)
                /*var s=Math.floor(Math.random()*3)
                switch(s){
                    case 0:
                        p(1,0)
                        p(5,1)
                    break;
                    case 1:
                        p(1,0)
                        p(9,1)
                    break;
                    case 2:
                        p(5,0)
                        p(9,1)
                    break;
                }*/
            }
        </script>
    </body>
</html>