<html>
    <head>
        
    <title>
        wro
    </title>
    </head>
    <body>
        
        <style type="text/css">
        #P1{
            position:absolute;
            top:0px;
            left:0px;
            z-index:0;
        }
        #P2{
            position:absolute;
            top:15px;
            left:220px;
            z-index:1;
        }
        #P3{
            position:absolute;
            top:70px;
            left:220px;
            z-index:1;
        }
        #P4{
            position:absolute;
            top:120px;
            left:220px;
            z-index:1;
        }
        #P5{
            position:absolute;
            top:170px;
            left:220px;
            z-index:1;
        }
        #P6{
            position:absolute;
            top:225px;
            left:220px;
            z-index:1;
        }
        #P7{
            position:absolute;
            top:275px;
            left:220px;
            z-index:1;
        }
        #BAR0{
            position:absolute;
            top:22px;
            left:638px;
            z-index:1;
        }
        #BAR1{
            position:absolute;
            top:22px;
            left:918px;
            z-index:1;
        }
        #BAR2{
            position:absolute;
            top:248px;
            left:486px;
            z-index:1;
        }
        #BAR3{
            position:absolute;
            top:248px;
            left:778px;
            z-index:1;
        }
        #BAR4{
            position:absolute;
            top:419px;
            left:638px;
            z-index:1;
        }
        #BAR5{
            position:absolute;
            top:419px;
            left:1071px;
            z-index:1;
        }
        #ParkSpace00{
            position:absolute;
            top:20px;
            left:550px;
            z-index:1;
        }
        #ParkSpace10{
            position:absolute;
            top:20px;
            left:686px;
            z-index:1;
        }
        #ParkSpace20{
            position:absolute;
            top:20px;
            left:830px;
            z-index:1;
        }
        #ParkSpace30{
            position:absolute;
            top:20px;
            left:965px;
            z-index:1;
        }
        #ParkSpace01{
            position:absolute;
            top:250px;
            left:550px;
            z-index:1;
        }
        #ParkSpace11{
            position:absolute;
            top:250px;
            left:686px;
            z-index:1;
        }
        #ParkSpace21{
            position:absolute;
            top:250px;
            left:830px;
            z-index:1;
        }
        #ParkSpace31{
            position:absolute;
            top:250px;
            left:965px;
            z-index:1;
        }
        #ParkSpace02{
            position:absolute;
            top:470px;
            left:550px;
            z-index:1;
        }
        #ParkSpace12{
            position:absolute;
            top:470px;
            left:686px;
            z-index:1;
        }
        #ParkSpace22{
            position:absolute;
            top:470px;
            left:830px;
            z-index:1;
        }
        #ParkSpace32{
            position:absolute;
            top:470px;
            left:965px;
            z-index:1;
        }

        </style>
        <h1>WRO  出題機 </h1>
        <select name="ver" id="ver">
            <option value="Elementary"> Elementary | 國小 | 小学</option>
            <option value="Junior" selected>Junior | 國中 | 中学</option>
            <option value="Senior">Senior | 高中 | 高校</option>
        </select>
        <button onclick="go()">隨機出題</button>
    
        </br>

        <div style="position:relative;">
            <img src="wro.jpeg" id="P1">
            <img src="2.png" id="P2">
            <img src="3.png" id="P3">
            <img src="4.png" id="P4">
            <img src="2.png" id="P5">
            <img src="3.png" id="P6">
            <img src="4.png" id="P7">
            <img id="BAR0">
            <img id="BAR1">
            <img id="BAR2">
            <img id="BAR3">
            <img id="BAR4">
            <img id="BAR5">
            <img  id="ParkSpace00">
            <img  id="ParkSpace10">
            <img  id="ParkSpace20">
            <img  id="ParkSpace30">
            <img  id="ParkSpace01">
            <img  id="ParkSpace11">
            <img  id="ParkSpace21">
            <img  id="ParkSpace31">
            <img  id="ParkSpace02">
            <img  id="ParkSpace12">
            <img  id="ParkSpace22">
            <img  id="ParkSpace32">
        </div>

            
        
        <script>
            go()


            function RandCarStop()
            {
                
            var a ,b,aa=0
            var ParkArr=[["R","ParkSpace00",0,0],["R","ParkSpace10",0,0],["G","ParkSpace20",0,0],["B","ParkSpace30",0,0],
                        ["G","ParkSpace01",0,1],["R","ParkSpace11",0,1],["G","ParkSpace21",0,1],["B","ParkSpace31",0,1],
                        ["B","ParkSpace02",0,2],["B","ParkSpace12",0,2],["R","ParkSpace22",0,2],["G","ParkSpace32",0,2]] 
            a=Math.floor(Math.random()*12)
            document.getElementById(ParkArr[a][1]).src="1.png"
            ParkArr[a][2]=1;
            
            while (aa==0){
                b=Math.floor(Math.random()*12)
                if(ParkArr[a][3]!=ParkArr[b][3]){
                    if(ParkArr[a][0]!=ParkArr[b][0]){
                        document.getElementById(ParkArr[b][1]).src="1.png"
                        ParkArr[b][2]=1;
                        aa=1;
                    }
                    }
                }
                aa=0
                while (aa==0){
                b=Math.floor(Math.random()*12)
                if(ParkArr[b][2]==0){
                    if(ParkArr[b][0]!="R"){
                        document.getElementById(ParkArr[b][1]).src="b0.png"
                        ParkArr[b][2]=1;
                        aa=1;
                    }
                    }
                }
                aa=0
                while (aa==0){
                b=Math.floor(Math.random()*12)
                if(ParkArr[b][2]==0){
                    if(ParkArr[b][0]=="G"){
                        document.getElementById(ParkArr[b][1]).src="b1.png"
                        ParkArr[b][2]=1;
                        aa=1;
                    }
                    }
                }
                aa=0
                while (aa==0){
                b=Math.floor(Math.random()*12)
                if(ParkArr[b][2]==0){
                    if(ParkArr[b][0]=="B"){
                        document.getElementById(ParkArr[b][1]).src="b2.png"
                        ParkArr[b][2]=1;
                        aa=1;
                    }
                    }
                }
                
            }


            function go()
            {
                SwitchRow()
                movecar()
                RandCarStop()
            }

            

            function reset()
            {
                for (var i=0;i<6;i++){
                    x="BAR"+i;
                    document.getElementById(x).src=""
                }
                for (var j=0;j<3;j++){
                    for (var k=0;k<4;k++){
                        y="ParkSpace"+k;
                        y=y+j
                        document.getElementById(y).src=""
                }
                }
            }
            
            function SwitchRow()
            {   
                reset()
                var c;
                c=Math.floor(Math.random() * 3)
                //console.log(c)
                switch(c){
                    case 0:
                        RandBar(0)
                        RandBar(2)
                        break;
                    case 1:
                        RandBar(0)
                        RandBar(4)
                        break;
                    case 2:
                        RandBar(2)
                        RandBar(4)
                        break;
                }
            }

            function RandBar(a)
            {
                var a,b,x;
                for (var i=a;i<a+1;i++){
                    b=Math.floor(Math.random() * 2)
                    x="BAR"+i;
                if (b==1){
                    document.getElementById(x).src="BAR.png"
                }
                else { 
                    i++
                    x="BAR"+i;
                    document.getElementById(x).src="BAR.png"
                    i--
                }
            }
            }
        function movecar()
        {   
            
            // 先建立一個 0~6  不重複的array  arrNum
            var arrNum=[];
            var ranNum = 6;
            var text="";
            for(var i = 0; i < ranNum; i++) {
                arrNum[i] = Math.floor(Math.random() * ranNum);
                if(i>0){
                for(var k=0;k<i;k++){
                    if(arrNum[k] == arrNum[i]) {
                        i--;
                        break;
                    }
                }
                }
            }
            //建立一個 放入圖片檔案的 array
            let CarPicArr = ["2.png","3.png","4.png","2.png","3.png","4.png"]
            var y =2;
            for (var j = 0; j < arrNum.length; j++) {
                //text += arrNum[j] + ".";
                x="P"+y;
                y++;
                document.getElementById(x).src=CarPicArr[arrNum[j]];
                    }
        }
        
        </script>
        
    </body>
    </html>